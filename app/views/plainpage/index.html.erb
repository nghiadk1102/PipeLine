<% if user_signed_in? %>
<div class="right_col" role="main">
  <div class="row">
    <div class="col-md-10">
      <div id="map"></div>
    </div>
    <div class="col-md-2">
      <span><h5>Filter Line:</h5></span>
      <%= form_tag "/filterline", class: "filterline" do  %>
        <% @pipelines.each do |pipeline| %>
          <p>
            <%= check_box_tag pipeline.name %>
            <%= label pipeline.name, pipeline.name %>
          </p>
        <% end %>
        <%= button_tag "Show", type: "button", class: "btn-submit btn btn-primary" %>
      <% end %>
      <div>
        <p>
          <label class="switch">
            <input type="checkbox" checked id="enable-polygon">
            <span class="slider round"></span>
          </label>
        </p>
        <span>Enable Draw polygon</span>
        <button class="reset-poly">Reset Polygon</button>
        <button class="checking-poly" data-toggle="modal" data-target="#checking-poly">Checking Line inside Polygon</button>
      </div>
    </div>
  </div>
</div>
<%= render "map" %>
<div class="modal fade" role="dialog" id="checking-poly">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">List Line in area</h4>
        <h5>Show all Line in checked area</h5>
        <div class="count-line">  </div>
      </div>
      <div class="list-line-area"></div>
    </div>
  </div>
</div>
<% else %>
  <%= render "devise/sessions/login" %>
<% end %>
